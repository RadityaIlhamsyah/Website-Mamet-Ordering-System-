{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Downloads/warkop-ordering-system%20%284%29/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Downloads/warkop-ordering-system%20%284%29/app/admin/reports/weekly/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { DollarSign, ShoppingBag, TrendingUp } from \"lucide-react\"\nimport type { OrderDoc } from \"@/lib/models\"\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from \"recharts\"\n\nexport default function WeeklyReport() {\n  const [stats, setStats] = useState({\n    totalRevenue: 0,\n    totalOrders: 0,\n    averageOrderValue: 0,\n    completedOrders: 0,\n  })\n  const [dailyData, setDailyData] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    async function fetchWeeklyReport() {\n      try {\n        setLoading(true)\n        const today = new Date()\n        const startDate = new Date(today)\n        startDate.setDate(today.getDate() - today.getDay())\n        startDate.setHours(0, 0, 0, 0)\n        const endDate = new Date(startDate)\n        endDate.setDate(startDate.getDate() + 6)\n        endDate.setHours(23, 59, 59, 999)\n\n        const response = await fetch(\n          `/api/admin/reports/weekly?startDate=${startDate.toISOString()}&endDate=${endDate.toISOString()}`,\n        )\n        if (response.ok) {\n          const orders: OrderDoc[] = await response.json()\n\n          const totalRevenue = orders.reduce((sum, order) => sum + order.total, 0)\n          const completedOrders = orders.filter((o) => o.status === \"completed\").length\n\n          setStats({\n            totalRevenue,\n            totalOrders: orders.length,\n            averageOrderValue: orders.length > 0 ? totalRevenue / orders.length : 0,\n            completedOrders,\n          })\n\n          // Process daily data\n          const daily: { [key: string]: { revenue: number; count: number } } = {}\n          const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n\n          orders.forEach((order) => {\n            const date = new Date(order.createdAt)\n            const dayName = days[date.getDay()]\n            if (!daily[dayName]) {\n              daily[dayName] = { revenue: 0, count: 0 }\n            }\n            daily[dayName].revenue += order.total\n            daily[dayName].count += 1\n          })\n\n          const dailyArray = days.map((day) => ({\n            day,\n            revenue: daily[day]?.revenue || 0,\n            orders: daily[day]?.count || 0,\n          }))\n          setDailyData(dailyArray)\n        }\n      } catch (error) {\n        console.error(\"[v0] Failed to fetch weekly report:\", error)\n      } finally {\n        setLoading(false)\n      }\n    }\n    fetchWeeklyReport()\n  }, [])\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"id-ID\", {\n      style: \"currency\",\n      currency: \"IDR\",\n      minimumFractionDigits: 0,\n    }).format(price)\n  }\n\n  if (loading) {\n    return <div className=\"p-8 text-center\">Loading weekly report...</div>\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Weekly Report</h1>\n\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Revenue</CardTitle>\n            <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{formatPrice(stats.totalRevenue)}</div>\n            <p className=\"text-xs text-muted-foreground\">This week</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Orders</CardTitle>\n            <ShoppingBag className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{stats.totalOrders}</div>\n            <p className=\"text-xs text-muted-foreground\">This week</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Completed</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{stats.completedOrders}</div>\n            <p className=\"text-xs text-muted-foreground\">Completed orders</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Avg. Order</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{formatPrice(stats.averageOrderValue)}</div>\n            <p className=\"text-xs text-muted-foreground\">Average value</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Daily Revenue & Orders</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={dailyData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"day\" />\n              <YAxis yAxisId=\"left\" />\n              <YAxis yAxisId=\"right\" orientation=\"right\" />\n              <Tooltip />\n              <Legend />\n              <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"revenue\" stroke=\"#3B82F6\" name=\"Revenue (IDR)\" />\n              <Line yAxisId=\"right\" type=\"monotone\" dataKey=\"orders\" stroke=\"#10B981\" name=\"Orders\" />\n            </LineChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}